---
title: "`tinytable` and `tabularray`"
subtitle: "Supremely customizable \\LaTeX{} tables in `R`"
date: "`r Sys.Date()`"
output: pdf_document
header-includes: 
  - \usepackage{float}
  - \usepackage{tabularray}
  - \UseTblrLibrary{booktabs}
---

```{r, results="asis"}
# devtools::document()
pkgload::load_all()
options(tt_placement = "H")
x <- mtcars[1:4, 1:4]
```

# HTML

```{r, eval = FALSE}
pkgload::load_all()
tt(x, output = "html") |> 
  spec_row(2:3, bg = "pink") |>
  # cat()
  cat(file = "~/Downloads/trash.html")
```


# Width

Extendable columns:

```{r}
tt(x,
  tabularray_extendable = TRUE,
  tabularray_inner = "width=.7\\linewidth")
```

# Transform all entries

By default, all functions transform all cells. For example, calling `spec_column()` without specifying column numbers will apply the transformation to all columns:

```{r}
tt(x) |>
  spec_column(bg = "pink")
```

# Columns

```{r}
tt(x) |>
  spec_column(j = 2:3, fg = "white", bg = "olive2", cmd="\\texttt")
```

# Rows

```{r}
tt(x) |>
  spec_row(i = 2:3, fg = "blue6", bg = "pink", font="\\bfseries")
```

# Cells

## Style

```{r}
tt(x) |>
  spec_column(j = 1, halign = "c") |>
  spec_cell(i = 2:3, j = 1, fg = "red") |>
  spec_cell(i = 4, j = 1, bg = "red")
```

## Spanning cells

```{r}
tt(x) |>
  spec_cell(i = 2, j = 1, r = 3, c = 2, bg = "pink")
```

## Special characters

TODO: this does not work

```{r, eval=FALSE}
k <- data.frame(a = c("a_b", "d$c"))
tt(k, tabularray_inner = "cmd=\\fakeverb")
```


# Caption and labels

# Math
